<h4>Introduction to Routing</h4><blockquote><p>Routing is a process of matching incoming HTTP requests by checking the HTTP method and url; and then invoking corresponding endpoints (middlewares).</p></blockquote><p><br></p><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-10-21_16-56-22-c24792a05a7cf080f482922511f5e095.png"></figure><p><br></p><p><br></p><h4>Routing - UseRouting and UseEndPoints</h4><p><strong>UseRouting( )</strong></p><p><code>app.UseRouting();</code></p><p>Enables routing and selects an appropriate end point based on the url path and HTTP method.</p><p><br></p><p><strong>UseEndPoints( )</strong></p><pre class="prettyprint linenums">app.UseEndPoints(endpoints =&gt;
{
 endpoints.Map();
 endpoints.MapGet();
 endpoints.MapPost();
);</pre><p>Executes the appropriate endpoint based on the endpoint selected by the above UseRouting() method.</p><p><br></p><p><br></p><h4>Map, MapGet, MapPost</h4><p><strong>endpoints.Map( )</strong></p><pre class="prettyprint linenums">endpoints.Map("path", async (HttpContext context) =&gt;
{
 //code
});</pre><p>Executes the endpoint when a HTTP request's url path begins with the specified path.</p><p><br></p><p><strong>endpoints.MapGet( )</strong></p><pre class="prettyprint linenums">endpoints.MapGet("path", async (HttpContext context) =&gt;
{
 //code
});</pre><p>Executes the endpoint when a HTTP GET request's url path begins with the specified path.</p><p><br></p><p><strong>endpoints.MapPost( )</strong></p><pre class="prettyprint linenums">endpoints.MapPost("path", async (HttpContext context) =&gt;
{
 //code
});</pre><p>Executes the endpoint when a HTTP POST request's url path begins with the specified path.</p><p><br></p><p><br></p><h4>GetEndpoint( )</h4><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-10-23_18-12-31-a616abfc505b1586b429d766ca43f08f.png"></figure><p><code>context.GetEndpoint();</code></p><p>Returns an instance of Microsoft.AspNetCore.Http.Endpoint type, which represents an endpoint.</p><p>That instance contains two important properties: DisplayName, RequestDelegate.</p><p><br></p><p><br></p><h4>Route Parameters</h4><p><strong>"{parameter}"</strong></p><p>A route parameter can match with any value.</p><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-10-23_18-12-31-3f9ea8790dcaa40e20a6819f28b89fa4.png"></figure><p><br></p><p><strong>Default Route Parameters</strong></p><p>"{parameter=default_value}"</p><p>A route parameter with default value matches with any value.</p><p>It also matches with empty value. In this case, the default value will be considered into the parameter.</p><p><br></p><p><strong>Optional Route Parameters</strong></p><p>"{parameter?}"</p><p>"?" indicates an optional parameter.</p><p>That means, it matches with a value or empty value also.</p><p><br></p><p><br></p><h4>Route Constraints</h4><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-10-23_18-12-31-a2cbc2befe76b4219420eed5eb15c2cc.png"></figure><p><br></p><p><strong>Route Parameter with Constraint:</strong></p><p>"{parameter:constraint}"</p><p>A route parameter that has a constraint can match with a value that satisfies the given constraint.</p><p><br></p><p><strong>Multiple Constraints</strong></p><p>"{parameter:constraint1:constraint2}"</p><p>A route parameter can have more than one constraint, separated with colon ( : ).</p><p><br></p><p><br></p><p><strong>int</strong></p><p>Matches with any integer.</p><p>Eg: {id:int} matches with 123456789, -123456789</p><p><br></p><p><strong>bool</strong></p><p>Matches with true or false. Case-insensitive.</p><p>Eg: {active:bool} matches with true, false, TRUE, FALSE</p><p><br></p><p><strong>datetime</strong></p><p>Matches a valid DateTime value with formats "yyyy-MM-dd hh:mm:ss tt" and "MM/dd/yyyy hh:mm:ss tt".</p><p>Eg: {id:datetime} matches with 2030-01-01%2011:59%20pm</p><p>Note: '%20' is equal to space.</p><p><br></p><p><strong>decimal</strong></p><p>Matches with a valid decimal value.</p><p>Eg: {price:decimal} matches with 49.99, -1, 0.01</p><p><br></p><p><strong>long</strong></p><p>Matches a valid long value.</p><p>Eg: {id:long} matches with 123456789, -123456789</p><p><br></p><p><strong>guid</strong></p><p>Matches with a valid Guid value (Globally Unique Identifier - A hexadecimal number that is universally unique).</p><p>Eg: {id:guid} matches with 123E4567-E89B-12D3-A456-426652340000</p><p><br></p><p><strong>minlength(value)</strong></p><p>Matches with a string that has at least specified number of characters.</p><p>Eg: {username:minlength(4)} matches with John, Allen, William</p><p><br></p><p><strong>maxlength(value)</strong></p><p>Matches with a string that has less than or equal to the specified number of characters.</p><p>Eg: {username:maxlength(7)} matches with John, Allen, William</p><p><br></p><p><strong>length(min,max)</strong></p><p>Matches with a string that has number of characters between given minimum and maximum length (both numbers including).</p><p>Eg: {username:length(4, 7)} matches with John, Allen, William</p><p><br></p><p><strong>length(value)</strong></p><p>Matches with a string that has exactly specified number of characters.</p><p>Eg: {tin:length(9)} matches with 987654321</p><p><br></p><p><strong>min(value)</strong></p><p>Matches with an integer value greater than or equal to the specified value.</p><p>Eg: {age:min(18)} matches with 18, 19, 100</p><p><br></p><p><strong>max(value)</strong></p><p>Matches with an integer value less than or equal to the specified value.</p><p>Eg: {age:max(100)} matches with -1, 1, 18, 100</p><p><br></p><p><strong>range(min,max)</strong></p><p>Matches with an integer value between the specified minimum and maximum values (both numbers including).</p><p>Eg: {age:range(18,100)} matches with 18, 19, 99, 100</p><p><br></p><p><strong>alpha</strong></p><p>Matches with a string that contains only alphabets (A-Z) and (a-z).</p><p>Eg: {username:alpha} matches with rick, william</p><p><br></p><p><strong>regex(expression)</strong></p><p>Matches with a string that matches with the specified regular expression.</p><p>Eg 1: {age:regex(^[0-9]{2}$)} matches with any two-digit number, such as 10, 11, 98, 99</p><p>Eg 2: {age:regex(^\d{3}-\d{3}$)} matches with any three-digit number, then hyphen, and then three-digit number, such as 123-456</p><p><br></p><p><br></p><h4>Custom Route Constraint Classes</h4><p>Custom Route Constraint Class</p><pre class="prettyprint linenums">public class ClassName : IRouteConstraint
{
  public bool Match(HttpContext? HttpContext, IRouter? route, string routeKey, RouteValueDictionary values, RouteDirection routeDirection)
  {
    //return true or false
  }
}</pre><p><br></p><pre class="prettyprint linenums">builder.Services.AddRouting(options =&gt;
{
  options.ConstraintMap.Add("name", typeof(ClassName));
}); //adding the custom constraint to routing</pre><p><br></p><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-10-23_18-12-32-628357761dac6ab908976174f2150213.png"></figure><p><br></p><p><br></p><h4>Endpoint Selection Order</h4><p>Top is highest precedence (will be evaluated first)</p><p><br></p><p><strong>1: </strong>URL template with more segments.</p><p>Ex: "a/b/c/d" is higher than "a/b/c".</p><p><br></p><p><strong>2: </strong>URL template with literal text has more precedence than a parameter segment.</p><p>Ex: "a/b" is higher than "a/{parameter}".</p><p><br></p><p><strong>3: </strong>URL template that has a parameter segment with constraints has more precedence than a parameter segment without constraints.</p><p>Ex: "a/b:int" is higher than "a/b".</p><p><br></p><p><strong>4: </strong>Catch-all parameters (**).</p><p>Ex: "a/{b}" is higher than "a/**".</p><p><br></p><p><br></p><h4>WebRoot</h4><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-10-23_18-12-32-41d25acae243b4a4f9678ee258ab964d.png"></figure><p><br></p>